<div *ngIf="movie">
	<h2>D&eacute;tails de {{movie.title}} :</h2>
	<div>
		<a class="affiche" href="{{movie.affiche}}" target="_blank"> <img
			src="{{movie.thumbnail}}">
		</a>
	</div>
	<div class="contenu">
		<div>
			<label>Id:</label>{{movie.id}}
		</div>
		<div>
			<label>Titre: </label>{{movie.title | capitalizeWord}}
			<div>
				<label>Date: </label>{{movie.date | date:'EEEE dd MMMM yyyy' |
				capitalizeWord}}
			</div>
			<div *ngIf="movie.time > 0">
				<label>Dur&eacute;e: </label>{{movie.time | convertToHHmm}}
			</div>
			<div *ngIf="movie.synopsis">
				<label>Synopsis: </label>
				<div class="synopsis">{{movie.synopsis}}</div>
			</div>
			<div *ngIf="movie.actors.length > 0">
				<label>Acteurs: </label>
				<div class="block">
					<span *ngFor="let actor of movie.actors; let last=last;">
						<a (click)="gotoPerson(actor)" class="pointer">{{actor.name| capitalizeWord}}</a><span *ngIf="!last">,</span>
					</span>
				</div>
			</div>
			<div *ngIf="movie.crew.length > 0">
				<div *ngIf="(movie.crew | filterCrew:'director') as director">
                    <div *ngIf="director.length > 0">
					<label class="label">R&eacute;alisateur: </label>
                    <span *ngFor="let d of director; let last=last;">
                        <a (click)="gotoPerson(d)" class="pointer">{{d.name| capitalizeWord}}</a><span *ngIf="!last">,</span>
                    </span>
                </div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'producer') as producer">
                    <div *ngIf="producer.length > 0">
					<label class="label">Producteur: </label>
                    <span *ngFor="let p of producer; let last=last;">
                        <a (click)="gotoPerson(p)" class="pointer">{{p.name| capitalizeWord}}</a><span *ngIf="!last">,</span>
                    </span>
                </div>
				</div>
				<div
					*ngIf="(movie.crew | filterCrew:'Original Music Composer') as composer">
                    <div *ngIf="composer.length > 0">
					<label class="label">Compositeur: </label>
                    <span *ngFor="let c of composer; let last=last;">
                        <a (click)="gotoPerson(c)" class="pointer">{{c.name| capitalizeWord}}</a><span *ngIf="!last">,</span>
                    </span>
                </div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'Compositors') as compositors">
                    <div *ngIf="compositors.length > 0">
					<label class="label">Compositeur: </label>
                    <span *ngFor="let c of compositors; let last=last;">
                        <a (click)="gotoPerson(c)" class="pointer">{{c.name| capitalizeWord}}</a><span *ngIf="!last">,</span>
                    </span>
                </div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'screenplay') as screenplay">
                    <div *ngIf="screenplay.length > 0">
					<label class="label">Sc&eacute;nariste: </label>
                    <span *ngFor="let s of screenplay; let last=last;">
                        <a (click)="gotoPerson(s)" class="pointer">{{s.name| capitalizeWord}}</a><span *ngIf="!last">,</span>
                    </span>
                </div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'novel') as novel">
					<div *ngIf="novel.length > 0">
						<label class="label">Romancier: </label> 
						<span *ngFor="let n of novel; let last=last;"> 
						  <a (click)="gotoPerson(n)" class="pointer">{{n.name| capitalizeWord}}</a><span *ngIf="!last">,</span>
						</span>
					</div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'cameo') as cameo">
                    <div *ngIf="cameo.length > 0">
					<label class="label">Cameo: </label>
                    <span *ngFor="let c of cameo; let last=last;">
                        <a (click)="gotoPerson(c)" class="pointer">{{c.name| capitalizeWord}}</a><span *ngIf="!last">,</span>
                    </span>
                </div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'special Guest') as guest">
                    <div *ngIf="guest.length > 0">
					<label class="label">Guest-Star: </label>
                    <span *ngFor="let g of guest; let last=last;">
                        <a (click)="gotoPerson(g)" class="pointer">{{g.name| capitalizeWord}}</a><span *ngIf="!last">,</span>
                    </span>
                </div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'songs') as songs">
                    <div *ngIf="songs.length > 0">
					<label class="label">Chansons: </label>
                    <span *ngFor="let song of songs; let last=last;">
                        <a (click)="gotoPerson(song)" class="pointer">{{song.name| capitalizeWord}}</a><span *ngIf="!last">,</span>
                    </span>
                </div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'music') as music">
                    <div *ngIf="music.length > 0">
					<label class="label">Musique: </label>
                    <span *ngFor="let m of music; let last=last;">
                        <a (click)="gotoPerson(m)" class="pointer">{{m.name| capitalizeWord}}</a><span *ngIf="!last">,</span>
                    </span>
                </div>
				</div>
			</div>
			<div *ngIf="movie.budget > 0">
				<label>Budget: </label>{{movie.budget | currency:'USD':'':'1.0-0'}}
			</div>
			<div *ngIf="movie.recette > 0">
				<label>Recette: </label>{{movie.recette |
				currency:'USD':'':'1.0-0'}}
			</div>
			<div *ngIf="movie.note > 0">
				<label>Note: </label>{{movie.note}} / 10
				<rating [(ngModel)]="movie.note" [max]="10" [readonly]="true"
					[float]="true"></rating>
			</div>
			<div *ngIf="movie.videos.length > 0">
				<div class="labelLong">Vid&eacute;o(s):</div>
				<ul class="videos">
					<li *ngFor="let video of movie.videos"><a
						href="https://www.youtube.com/watch?v={{video.key}}" class="badge"
						target="_blank">{{video.name | capitalizeWord}}</a></li>
				</ul>
			</div>
            <div *ngIf="movie.images.length > 0" class="labelLong">Images:</div>
            <div *ngIf="movie.images.length > 0" class="reco">
                <a *ngFor="let ima of movie.images;" class="affiche" href="{{original.concat(ima)}}" target="_blank"> 
                    <img src="{{thumb.concat(ima)}}">
                </a>
            </div>
			<div *ngIf="movie.recommendations.length > 0" class="labelLong">Vous
				aimerez aussi:</div>
			<div *ngIf="movie.recommendations.length > 0" class="reco">
				<a *ngFor="let reco of movie.recommendations;" class="affiche"
					[routerLink]="['/detail', reco.id]" data-toggle="tooltip"
					title="{{reco.title | capitalizeWord}}"> <img
					src="{{reco.thumbnail}}" alt="{{reco.title| capitalizeWord}}">
				</a>
			</div>
		</div>
	</div>
	<div class="btn">
		<button (click)="goBack()">Back</button>
		<button (click)="save()">Save</button>
	</div>
</div>