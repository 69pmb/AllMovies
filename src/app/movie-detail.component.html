<div *ngIf="movie">
	<h2>D&eacute;tails de {{movie.title}} :</h2>
	<div>
		<a class="affiche" href="{{movie.affiche}}" target="_blank"> <img src="{{movie.thumbnail}}">
		</a>
	</div>
	<div class="contenu">
       <button class="btn btn-outline-primary" (click)="add(movie)">Add to collection</button>
		<div>
			<label>Id:</label>{{movie.id}}
		</div>
		<div>
			<label>Titre: </label>{{movie.title | capitalizeWord}}
			<div>
				<label>Date: </label>{{movie.date | date:'EEEE dd MMMM yyyy' | capitalizeWord}}
			</div>
			<div *ngIf="movie.time > 0">
				<label>Dur&eacute;e: </label>{{movie.time | convertToHHmm}}
			</div>
			<div *ngIf="movie.synopsis">
				<label>Synopsis: </label>
				<div class="synopsis">{{movie.synopsis}}</div>
			</div>
			<div *ngIf="movie.actors.length > 0">
				<label>Acteurs: </label>
				<div class="block">
					<span *ngFor="let actor of movie.actors; let last=last;"> <a
						[routerLink]="['/person', actor.id]" class="myTooltip"><span class="pointer">{{actor.name|
								capitalizeWord}}</span><img class="profile" [src]="preview.concat(actor.profile_path)"
							*ngIf="actor.profile_path" /> </a> <span *ngIf="!last">/</span>
					</span>
				</div>
			</div>
			<div *ngIf="movie.crew.length > 0">
				<div *ngIf="(movie.crew | filterCrew:'director') as director">
					<div *ngIf="director.length > 0">
						<label>R&eacute;alisateur: </label> <span *ngFor="let d of director; let last=last;"> <a
							[routerLink]="['/person', d.id]" class="myTooltip"><span class="pointer">{{d.name|
									capitalizeWord}}</span> <img class="profile" [src]="preview.concat(d.profile_path)"
								*ngIf="d.profile_path" /> </a> <span *ngIf="!last">/</span>
						</span>
					</div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'producer') as producer">
					<div *ngIf="producer.length > 0">
						<label>Producteur: </label> <span *ngFor="let p of producer; let last=last;"> <a
							[routerLink]="['/person', p.id]" class="myTooltip"><span class="pointer">{{p.name|
									capitalizeWord}}</span> <img class="profile" [src]="preview.concat(p.profile_path)"
								*ngIf="p.profile_path" /></a> <span *ngIf="!last">/</span>
						</span>
					</div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'Original Music Composer') as composer">
					<div *ngIf="composer.length > 0">
						<label>Compositeur: </label> <span *ngFor="let c of composer; let last=last;"> <a
							[routerLink]="['/person', c.id]" class="myTooltip"><span class="pointer">{{c.name|
									capitalizeWord}}</span> <img class="profile" [src]="preview.concat(c.profile_path)"
								*ngIf="c.profile_path" /></a> <span *ngIf="!last">/</span>
						</span>
					</div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'Compositors') as compositors">
					<div *ngIf="compositors.length > 0">
						<label>Compositeur: </label> <span *ngFor="let c of compositors; let last=last;"> <a
							[routerLink]="['/person', c.id]" class="myTooltip"><span class="pointer">{{c.name|
									capitalizeWord}}</span> <img class="profile" [src]="preview.concat(c.profile_path)"
								*ngIf="c.profile_path" /></a> <span *ngIf="!last">/</span>
						</span>
					</div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'screenplay') as screenplay">
					<div *ngIf="screenplay.length > 0">
						<label>Sc&eacute;nariste: </label> <span *ngFor="let s of screenplay; let last=last;">
							<a [routerLink]="['/person', s.id]" class="myTooltip"><span class="pointer">{{s.name|
									capitalizeWord}}</span> <img class="profile" [src]="preview.concat(s.profile_path)"
								*ngIf="s.profile_path" /> </a> <span *ngIf="!last">/</span>
						</span>
					</div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'writer') as screenplay">
					<div *ngIf="screenplay.length > 0">
						<label>Sc&eacute;nariste: </label> <span *ngFor="let s of screenplay; let last=last;">
							<a [routerLink]="['/person', s.id]" class="myTooltip"><span class="pointer">{{s.name|
									capitalizeWord}}</span><img class="profile" [src]="preview.concat(s.profile_path)"
								*ngIf="s.profile_path" /> </a> <span *ngIf="!last">/</span>
						</span>
					</div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'novel') as novel">
					<div *ngIf="novel.length > 0">
						<label>Romancier: </label> <span *ngFor="let n of novel; let last=last;"> <a
							[routerLink]="['/person', n.id]" class="myTooltip"><span class="pointer">{{n.name|
									capitalizeWord}}</span> <img class="profile" [src]="preview.concat(n.profile_path)"
								*ngIf="n.profile_path" /></a> <span *ngIf="!last">/</span>
						</span>
					</div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'cameo') as cameo">
					<div *ngIf="cameo.length > 0">
						<label>Cameo: </label> <span *ngFor="let c of cameo; let last=last;"> <a
							[routerLink]="['/person', c.id]" class="myTooltip"><span class="pointer">{{c.name|
									capitalizeWord}}</span><img class="profile" [src]="preview.concat(c.profile_path)"
								*ngIf="c.profile_path" /></a> <span *ngIf="!last">/</span>
						</span>
					</div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'special Guest') as guest">
					<div *ngIf="guest.length > 0">
						<label>Guest-Star: </label> <span *ngFor="let g of guest; let last=last;"> <a
							[routerLink]="['/person', g.id]" class="myTooltip"><span class="pointer">{{g.name|
									capitalizeWord}}</span><img class="profile" [src]="preview.concat(g.profile_path)"
								*ngIf="g.profile_path" /></a> <span *ngIf="!last">/</span>
						</span>
					</div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'songs') as songs">
					<div *ngIf="songs.length > 0">
						<label>Chansons: </label> <span *ngFor="let song of songs; let last=last;"> <a
							[routerLink]="['/person', song.id]" class="myTooltip"><span class="pointer">{{song.name|
									capitalizeWord}}</span> <img class="profile" [src]="preview.concat(song.profile_path)"
								*ngIf="song.profile_path" /></a> <span *ngIf="!last">/</span>
						</span>
					</div>
				</div>
				<div *ngIf="(movie.crew | filterCrew:'music') as music">
					<div *ngIf="music.length > 0">
						<label>Musique: </label> <span *ngFor="let m of music; let last=last;"> <a
							[routerLink]="['/person', m.id]" class="myTooltip"><span class="pointer">{{m.name|
									capitalizeWord}}</span> <img class="profile" [src]="preview.concat(m.profile_path)"
								*ngIf="m.profile_path" /></a> <span *ngIf="!last">/</span>
						</span>
					</div>
				</div>
			</div>
			<div *ngIf="movie.budget > 0">
				<label>Budget: </label>{{movie.budget | currency:'USD':'':'1.0-0'}}
			</div>
			<div *ngIf="movie.recette > 0">
				<label>Recette: </label>{{movie.recette | currency:'USD':'':'1.0-0'}}
			</div>
			<div *ngIf="movie.note > 0">
				<label>Note: </label>{{movie.note}} / 10
				<rating [(ngModel)]="movie.note" [max]="10" [readonly]="true" [float]="true"></rating>
			</div>
			<nav class="nav nav-pills nav-fill borderStyle">
				<a class="nav-item nav-link" href="{{metacritic}}" target="_blank">Metacritic</a> <a
					class="nav-item nav-link" href="{{senscritique}}" target="_blank">SensCritique</a> <a
					class="nav-item nav-link" href="{{imdb}}" target="_blank">IMDB</a> <a class="nav-item nav-link"
					href="{{wikiEN}}" target="_blank">Wiki EN</a> <a class="nav-item nav-link" href="{{wikiFR}}"
					target="_blank">Wiki FR</a>
			</nav>
			<div *ngIf="movie.videos.length > 0">
				<label>Vid&eacute;o(s):</label>
				<ul class="videos">
					<li *ngFor="let video of movie.videos"><a
						href="https://www.youtube.com/watch?v={{video.key}}" class="badge" target="_blank">{{video.name
							| capitalizeWord}}</a></li>
				</ul>
			</div>
			<!-- Images du film -->
			<div *ngIf="movie.images.length > 0">
				<button type="button" class="btn btn-outline-primary"
					(click)="isImagesCollapsed = !isImagesCollapsed">Images du film</button>
				<div *ngIf="isImagesCollapsed">
					<div class="card">
						<div class="card-body">
							<div class="reco">
								<a *ngFor="let ima of movie.images;" class="affiche" href="{{original.concat(ima)}}"
									target="_blank"> <img src="{{thumb.concat(ima)}}">
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<br />
			<div class="card-deck">
				<div class="card card-outline-primary" *ngIf="movie.recommendations.length > 0">
					<div class="card-header">
						<label>Vous aimerez aussi:</label>
					</div>
					<div class="card-body">
						<div class="reco">
							<a *ngFor="let reco of movie.recommendations;" class="affiche"
								[routerLink]="['/detail', reco.id]" data-toggle="tooltip"
								title="{{reco.title | capitalizeWord}}"> <img src="{{reco.thumbnail}}"
								alt="{{reco.title| capitalizeWord}}">
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="btn">
			<button class="btn btn-outline-primary" (click)="goBack()">Back</button>
		</div>
	</div>